(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{462:function(e,t,r){Promise.resolve().then(r.bind(r,8849))},8849:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var a=r(7437),n=r(2265),l=r(3073),i=r(2605);function s(){let{isLoaded:e,isSignedIn:t}=(0,l.aF)(),[r,s]=(0,n.useState)([]),[c,o]=(0,n.useState)(!0),[d,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(null),[p,x]=(0,n.useState)({name:"",description:"",price:"",category:"",image_url:""});(0,n.useEffect)(()=>{e&&t&&g()},[e,t]);let g=async()=>{try{let e=await fetch("/api/products");if(e.ok){let t=await e.json();s(t)}}catch(e){console.error("Failed to fetch products:",e)}finally{o(!1)}},f=async e=>{e.preventDefault();let t={...p,price:p.price?parseFloat(p.price):void 0};try{let e=m?"/api/products/".concat(m.id):"/api/products";(await fetch(e,{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok&&(g(),u(!1),h(null),x({name:"",description:"",price:"",category:"",image_url:""}))}catch(e){console.error("Failed to save product:",e)}},v=e=>{var t;h(e),x({name:e.name,description:e.description||"",price:(null===(t=e.price)||void 0===t?void 0:t.toString())||"",category:e.category||"",image_url:e.image_url||""}),u(!0)},b=async e=>{if(confirm("Are you sure you want to delete this product?"))try{(await fetch("/api/products/".concat(e),{method:"DELETE"})).ok&&g()}catch(e){console.error("Failed to delete product:",e)}},w=async e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!r)return;let a=new FormData;a.append("file",r);try{let e=await fetch("/api/upload",{method:"POST",body:a});if(e.ok){let{url:t}=await e.json();x(e=>({...e,image_url:t}))}}catch(e){console.error("Failed to upload file:",e)}};return e&&t?(0,a.jsx)(i.Z,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Products"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your products and inventory"})]}),(0,a.jsx)("button",{onClick:()=>u(!d),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md",children:d?"Cancel":"+ Add Product"})]}),d&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-4",children:m?"Edit Product":"Add New Product"}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Product Name",value:p.name,onChange:e=>x({...p,name:e.target.value}),className:"w-full p-2 border rounded",required:!0}),(0,a.jsx)("textarea",{placeholder:"Description",value:p.description,onChange:e=>x({...p,description:e.target.value}),className:"w-full p-2 border rounded",rows:3}),(0,a.jsx)("input",{type:"number",step:"0.01",placeholder:"Price",value:p.price,onChange:e=>x({...p,price:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsx)("input",{type:"text",placeholder:"Category",value:p.category,onChange:e=>x({...p,category:e.target.value}),className:"w-full p-2 border rounded"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:w,className:"w-full p-2 border rounded mb-2"}),p.image_url&&(0,a.jsx)("img",{src:p.image_url,alt:"Preview",className:"w-32 h-32 object-cover rounded"})]}),(0,a.jsx)("button",{type:"submit",className:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded",children:m?"Update Product":"Create Product"})]})]}),c?(0,a.jsx)("div",{children:"Loading products..."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[e.image_url&&(0,a.jsx)("img",{src:e.image_url,alt:e.name,className:"w-full h-48 object-cover rounded mb-4"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:e.description}),(0,a.jsxs)("p",{className:"text-lg font-bold mb-2",children:["$",e.price]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["Category: ",e.category]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>v(e),className:"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm",children:"Delete"})]})]},e.id))})]})}):(0,a.jsx)("div",{className:"p-8",children:"Please sign in to access this page."})}},2605:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var a=r(7437),n=r(3073),l=r(7138),i=r(6463),s=r(2265);let c=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))});var o=r(3986),d=r(1300),u=r(9954),m=r(39);let h=s.forwardRef(function(e,t){let{title:r,titleId:a,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},n),r?s.createElement("title",{id:a},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}),p=[{name:"Dashboard",href:"/admin",icon:c},{name:"Products",href:"/admin/products",icon:o.Z},{name:"Content",href:"/admin/content",icon:d.Z},{name:"Media",href:"/admin/media",icon:u.Z},{name:"Analytics",href:"/admin/analytics",icon:m.Z},{name:"Settings",href:"/admin/settings",icon:h}];function x(e){let{children:t}=e,r=(0,i.usePathname)();return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Admin Dashboard"})}),(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsx)(n.l8,{})})]})}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"w-64 bg-white border-r border-gray-200 min-h-screen",children:(0,a.jsx)("nav",{className:"mt-5 px-2",children:(0,a.jsx)("div",{className:"space-y-1",children:p.map(e=>{let t=r===e.href;return(0,a.jsxs)(l.default,{href:e.href,className:"\n                      group flex items-center px-2 py-2 text-sm font-medium rounded-md\n                      ".concat(t?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900","\n                    "),children:[(0,a.jsx)(e.icon,{className:"\n                        mr-3 h-5 w-5 flex-shrink-0\n                        ".concat(t?"text-blue-500":"text-gray-400 group-hover:text-gray-500","\n                      ")}),e.name]},e.name)})})})}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("main",{className:"p-6",children:t})})]})]})}},39:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});t.Z=n},1300:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))});t.Z=n},9954:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=n},3986:function(e,t,r){"use strict";var a=r(2265);let n=a.forwardRef(function(e,t){let{title:r,titleId:n,...l}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?a.createElement("title",{id:n},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))});t.Z=n}},function(e){e.O(0,[449,138,971,23,744],function(){return e(e.s=462)}),_N_E=e.O()}]);